---
title: Iterators and Generators
layout: post
---

The main benefit of using iterators is the memory efficiency. Iterators do not compute the values of the sequence until they are needed. This is especially useful when working with large sequences or datasets.

Let's say you have 10GB of data stored in a file. If you read the entire file into memory, you would need 10GB of memory to store the data. However, if you use an iterator to read the file line by line, you only need enough memory to store one line at a time.

Here is the code to read a file line by line using an iterator:

```python
from typing import TextIO, Iterator

def read_large_file(file: TextIO) -> Iterator[str]:
    with open(file, 'r') as f:
        for line in f:
            yield line.strip()


def process_lines(lines: Iterator[str]) -> None:
    for line in lines:
        # Process the line
        yield line.upper()

file = 'large_file.txt'
lines = read_large_file(file)
processed_lines = process_lines(lines)

for line in processed_lines:
    print(line)
```